<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>01 - App Boilerplate</title>

  <style>

    * { margin: 0; padding: 0; }

    body {
      width: 100vw;
      height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
    }

    canvas {
      box-shadow: 0px 2px 2px rgba(0, 0, 0, 0.2);
    }

  </style>

</head>
<body>

  <canvas id="canvas" />

  <script>

    const CANVAS_WIDTH = 512
    const CANVAS_HEIGHT = 512

    const canvas = document.getElementById('canvas')

    canvas.width = CANVAS_WIDTH * devicePixelRatio
    canvas.height = CANVAS_HEIGHT * devicePixelRatio

    canvas.style.setProperty('width', `${CANVAS_WIDTH}px`)
    canvas.style.setProperty('height', `${CANVAS_HEIGHT}px`)

    const ctx = canvas.getContext('2d')

    const image = new Image()
    const video = document.createElement('video')

    image.onload = () => {
      video.onloadeddata = () => {
        video.play()
        requestAnimationFrame(drawFrame)
      }
      video.src = '/assets/sample-video.mp4'
    }
    image.src = '/assets/sample-image.jpeg'    

    function drawFrame (ts) {

      // Clear command
      ctx.fillRect(450, 0, canvas.width, canvas.height)

      // Render command
      ctx.strokeStyle = 'pink'
      ctx.font = '2rem Helvetica'
      ctx.strokeText('Lorem Ipsum', 300, 300)

      // ctx.strokeStyle = 'brown'

      // // 1st render command - image
      // ctx.drawImage(image, 100, 100)

      
      // // 2nd render command - complex path
      // ctx.beginPath()
      // ctx.moveTo(100, 100)
      // ctx.lineTo(200, 200)
      // ctx.lineTo(200, 0)
      // ctx.lineTo(300, 300)
      // ctx.lineTo(400, 450)
      // ctx.lineTo(500, 520)
      // ctx.closePath()
      // ctx.fill()
      // ctx.stroke()
    
      // // 3rd render command - fill text
      // ctx.strokeStyle = 'yellow'
      
      // ctx.font = '2rem Helvetica'
      // ctx.fillText('Hello World', 300, 100)

      // // 4th render command - stroke text
      // ctx.strokeText('Lorem Ipsum', 300, 300)

      // // 5th command - draw video
      // ctx.drawImage(video, 300, 300)
      
      requestAnimationFrame(drawFrame)
    }

    
  </script>
  
</body>
</html>